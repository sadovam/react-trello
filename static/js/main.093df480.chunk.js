(this["webpackJsonpreact-trello"]=this["webpackJsonpreact-trello"]||[]).push([[0],{35:function(t,e,n){},63:function(t,e,n){},64:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),o=n(23),i=n.n(o),s=(n(35),n(9)),c=n(2),d=n(28),l=n(24),b=n(25),h=n(30),u=n(29),j={baseURL:"https://trello-back.shpp.me/asadov/api/v1",boards:"board"},p=n(26),g=n.n(p).a.create({baseURL:j.baseURL,headers:{"Content-Type":"application/json",Authorization:"Bearer 123"}});g.interceptors.response.use((function(t){return t.data}));var f=g,O=function(t){return f.post(j.boards,{tits:t})},m=n(1);function x(t){var e=t.title,n=t.onChangeFunc,a=t.onSubmitFunc;return Object(m.jsxs)("form",{onSubmit:a,children:[Object(m.jsx)("label",{htmlFor:"newTitle",children:"New board title"}),Object(m.jsx)("input",{placeholder:"Type new board title here...",id:"newTitle",value:e,onChange:n}),Object(m.jsx)("button",{children:"Add board"})]})}var v=function(t){Object(h.a)(n,t);var e=Object(u.a)(n);function n(){var t;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).state={isLoading:!1,gotError:!1,gotBoards:!1,boards:[],isBoardCreatorVisible:!1,newTitle:""},t.showBoardCreator=function(){t.setState({isBoardCreatorVisible:!0})},t.changeTitleInput=function(e){t.setState({newTitle:e.target.value})},t.submitNewBoard=function(e){e.preventDefault(),t.setState({isLoading:!0}),O(t.state.newTitle).finally(t.setState({isLoading:!1,isBoardCreatorVisible:!1})).then((function(e){t.setState((function(n){return{boards:[].concat(Object(d.a)(n.boards),[{id:e.id,title:t.state.newTitle}]),newTitle:""}}))})).catch((function(e){t.setState({gotError:!0})}))},t}return Object(b.a)(n,[{key:"componentDidMount",value:function(){var t=this;this.setState({isLoading:!0}),f.get(j.boards).finally(this.setState({isLoading:!1})).then((function(e){var n=e.boards;t.setState({boards:n,gotBoards:!0})})).catch((function(e){t.setState({gotError:!0})}))}},{key:"makeBoards",value:function(){return this.state.boards.map((function(t){return Object(m.jsx)(s.b,{to:"/board/".concat(t.id),children:t.title},t.id)}))}},{key:"render",value:function(){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("h1",{children:"My boards"}),this.state.isLoading&&Object(m.jsx)("h2",{children:"Loading..."}),this.state.gotBoards&&Object(m.jsxs)("div",{children:[this.makeBoards(),Object(m.jsx)("button",{onClick:this.showBoardCreator,children:"Add board"})]}),this.state.gotError&&Object(m.jsx)("h2",{children:"Something went wrong..."}),this.state.isBoardCreatorVisible&&Object(m.jsx)(x,{title:this.state.newTitle,onChangeFunc:this.changeTitleInput,onSubmitFunc:this.submitNewBoard})]})}}]),n}(r.a.Component);function w(t){var e=t.match.params.id;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(s.b,{to:"/",children:"Home"}),Object(m.jsxs)("h1",{children:["Board page number ",e," "]})]})}n(63);var B=function(){return Object(m.jsx)("div",{className:"App",children:Object(m.jsx)(s.a,{children:Object(m.jsxs)(c.c,{children:[Object(m.jsx)(c.a,{exact:!0,path:"/",component:v}),Object(m.jsx)(c.a,{path:"/board/:id",component:w}),Object(m.jsx)(c.a,{path:"/react-trello",component:v})]})})})},S=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,65)).then((function(e){var n=e.getCLS,a=e.getFID,r=e.getFCP,o=e.getLCP,i=e.getTTFB;n(t),a(t),r(t),o(t),i(t)}))};i.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(B,{})}),document.getElementById("root")),S()}},[[64,1,2]]]);
//# sourceMappingURL=main.093df480.chunk.js.map