(this["webpackJsonpreact-trello"]=this["webpackJsonpreact-trello"]||[]).push([[0],{35:function(t,e,r){},63:function(t,e,r){},64:function(t,e,r){"use strict";r.r(e);var n=r(1),a=r.n(n),o=r(24),i=r.n(o),s=(r(35),r(9)),c=r(2),d=r(15),l=r(25),b=r(26),u=r(30),h=r(29),j={baseURL:"https://trello-back.shpp.me/asadov/api/v1",boards:"board/"},g=r(27),f=r.n(g).a.create({baseURL:j.baseURL,headers:{"Content-Type":"application/json",Authorization:"Bearer 123"}});f.interceptors.response.use((function(t){return t.data}));var p=f,O=function(t){return p.post(j.boards,{title:t})},x=function(t){return p.delete(j.boards+t)},m=r(0);function v(t){var e=t.title,r=t.onChangeFunc,n=t.onSubmitFunc;return Object(m.jsxs)("form",{onSubmit:n,children:[Object(m.jsx)("label",{htmlFor:"newTitle",children:"New board title"}),Object(m.jsx)("input",{placeholder:"Type new board title here...",id:"newTitle",value:e,onChange:r}),Object(m.jsx)("button",{children:"Add board"})]})}function w(t){var e=t.board,r=e.id,n=e.title,a=t.onClickFunc;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(s.b,{to:"/board/".concat(r),children:n}),Object(m.jsx)("button",{onClick:function(){return a(r)},children:"x"})]})}function S(t){var e=t.title,r=t.message;return Object(m.jsxs)("div",{children:[Object(m.jsx)("h2",{children:e}),Object(m.jsx)("p",{children:r})]})}var B=function(t){Object(u.a)(r,t);var e=Object(h.a)(r);function r(){var t;Object(l.a)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))).state={isLoading:!0,gotError:!1,errorTitle:"",errorMessage:"",gotBoards:!1,boards:[],isBoardCreatorVisible:!1,newTitle:""},t.showBoardCreator=function(){t.setState({isBoardCreatorVisible:!0})},t.changeTitleInput=function(e){t.setState({newTitle:e.target.value})},t.submitNewBoard=function(e){e.preventDefault(),t.setState({isLoading:!0}),O(t.state.newTitle).finally(t.setState({isLoading:!1,isBoardCreatorVisible:!1})).then((function(e){t.setState((function(r){return{boards:[].concat(Object(d.a)(r.boards),[{id:e.id,title:t.state.newTitle}]),newTitle:""}}))})).catch((function(e){t.showError("Error while create board",e.toString())}))},t.delBoard=function(e){t.setState({isLoading:!0}),x(e).finally(t.setState({isLoading:!1})).then((function(r){var n=t.state.boards.filter((function(t){return t.id!==e}));t.setState({boards:Object(d.a)(n)})})).catch((function(e){t.showError("Error while delete board",e.toString())}))},t.showError=function(e,r){t.setState({gotError:!0,errorTitle:e,errorMessage:r}),setTimeout((function(){return t.setState({gotError:!1,errorTitle:"",errorMessage:""})}),3e3)},t}return Object(b.a)(r,[{key:"componentDidMount",value:function(){var t=this;p.get(j.boards).finally(this.setState({isLoading:!1})).then((function(e){var r=e.boards;t.setState({boards:r,gotBoards:!0})})).catch((function(e){t.showError("Error while get boards",e.toString())}))}},{key:"makeBoards",value:function(){var t=this;return this.state.boards.map((function(e){return Object(m.jsx)(w,{board:e,onClickFunc:t.delBoard},e.id)}))}},{key:"render",value:function(){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("h1",{children:"My boards"}),Object(m.jsx)("p",{children:this.state.isLoading}),this.state.isLoading&&Object(m.jsx)("p",{children:"Loading..."}),this.state.gotBoards&&Object(m.jsxs)("div",{children:[this.makeBoards(),Object(m.jsx)("button",{onClick:this.showBoardCreator,children:"Add board"})]}),this.state.gotError&&Object(m.jsx)(S,{title:this.state.errorTitle,message:this.state.errorMessage}),this.state.isBoardCreatorVisible&&Object(m.jsx)(v,{title:this.state.newTitle,onChangeFunc:this.changeTitleInput,onSubmitFunc:this.submitNewBoard})]})}}]),r}(a.a.Component);function T(t){var e=t.match.params.id;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(s.b,{to:"/",children:"Home"}),Object(m.jsxs)("h1",{children:["Board page number ",e," "]})]})}r(63);var C=function(){return Object(m.jsx)("div",{className:"App",children:Object(m.jsx)(s.a,{children:Object(m.jsxs)(c.c,{children:[Object(m.jsx)(c.a,{exact:!0,path:"/",component:B}),Object(m.jsx)(c.a,{path:"/board/:id",component:T}),Object(m.jsx)(c.a,{path:"/react-trello",component:B})]})})})},F=function(t){t&&t instanceof Function&&r.e(3).then(r.bind(null,65)).then((function(e){var r=e.getCLS,n=e.getFID,a=e.getFCP,o=e.getLCP,i=e.getTTFB;r(t),n(t),a(t),o(t),i(t)}))};i.a.render(Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(C,{})}),document.getElementById("root")),F()}},[[64,1,2]]]);
//# sourceMappingURL=main.053886ef.chunk.js.map