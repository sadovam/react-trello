(this["webpackJsonpreact-trello"]=this["webpackJsonpreact-trello"]||[]).push([[0],{35:function(t,e,n){},63:function(t,e,n){},64:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),o=n(24),i=n.n(o),s=(n(35),n(9)),c=n(2),d=n(15),l=n(25),u=n(26),b=n(30),h=n(29),j={baseURL:"https://trello-back.shpp.me/asadov/api/v1",boards:"board/"},f=n(27),g=n.n(f).a.create({baseURL:j.baseURL,headers:{"Content-Type":"application/json",Authorization:"Bearer 123"}});g.interceptors.response.use((function(t){return t.data}));var p=g,O=function(t){return p.post(j.boards,{title:t})},x=function(t){return p.delete(j.boards+t)},m=n(1);function v(t){var e=t.title,n=t.onChangeFunc,a=t.onSubmitFunc;return Object(m.jsxs)("form",{onSubmit:a,children:[Object(m.jsx)("label",{htmlFor:"newTitle",children:"New board title"}),Object(m.jsx)("input",{placeholder:"Type new board title here...",id:"newTitle",value:e,onChange:n}),Object(m.jsx)("button",{children:"Add board"})]})}function S(t){var e=t.board,n=e.id,a=e.title,r=t.onClickFunc;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(s.b,{to:"/board/".concat(n),children:a}),Object(m.jsx)("button",{onClick:function(){return r(n)},children:"x"})]})}var w=function(t){Object(b.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).state={isLoading:!1,gotError:!1,gotBoards:!1,boards:[],isBoardCreatorVisible:!1,newTitle:""},t.showBoardCreator=function(){t.setState({isBoardCreatorVisible:!0})},t.changeTitleInput=function(e){t.setState({newTitle:e.target.value})},t.submitNewBoard=function(e){e.preventDefault(),t.setState({isLoading:!0}),O(t.state.newTitle).finally(t.setState({isLoading:!1,isBoardCreatorVisible:!1})).then((function(e){t.setState((function(n){return{boards:[].concat(Object(d.a)(n.boards),[{id:e.id,title:t.state.newTitle}]),newTitle:""}}))})).catch((function(e){t.setState({gotError:!0})}))},t.delBoard=function(e){t.setState({isLoading:!0}),x(e).finally(t.setState({isLoading:!1})).then((function(n){var a=t.state.boards.filter((function(t){return t.id!==e}));t.setState({boards:Object(d.a)(a)})})).catch((function(e){t.setState({gotError:!0})}))},t}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var t=this;this.setState({isLoading:!0}),p.get(j.boards).finally(this.setState({isLoading:!1})).then((function(e){var n=e.boards;t.setState({boards:n,gotBoards:!0})})).catch((function(e){t.setState({gotError:!0})}))}},{key:"makeBoards",value:function(){var t=this;return this.state.boards.map((function(e){return Object(m.jsx)(S,{board:e,onClickFunc:t.delBoard},e.id)}))}},{key:"render",value:function(){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("h1",{children:"My boards"}),this.state.isLoading&&Object(m.jsx)("h2",{children:"Loading..."}),this.state.gotBoards&&Object(m.jsxs)("div",{children:[this.makeBoards(),Object(m.jsx)("button",{onClick:this.showBoardCreator,children:"Add board"})]}),this.state.gotError&&Object(m.jsx)("h2",{children:"Something went wrong..."}),this.state.isBoardCreatorVisible&&Object(m.jsx)(v,{title:this.state.newTitle,onChangeFunc:this.changeTitleInput,onSubmitFunc:this.submitNewBoard})]})}}]),n}(r.a.Component);function B(t){var e=t.match.params.id;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(s.b,{to:"/",children:"Home"}),Object(m.jsxs)("h1",{children:["Board page number ",e," "]})]})}n(63);var C=function(){return Object(m.jsx)("div",{className:"App",children:Object(m.jsx)(s.a,{children:Object(m.jsxs)(c.c,{children:[Object(m.jsx)(c.a,{exact:!0,path:"/",component:w}),Object(m.jsx)(c.a,{path:"/board/:id",component:B}),Object(m.jsx)(c.a,{path:"/react-trello",component:w})]})})})},F=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,65)).then((function(e){var n=e.getCLS,a=e.getFID,r=e.getFCP,o=e.getLCP,i=e.getTTFB;n(t),a(t),r(t),o(t),i(t)}))};i.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(C,{})}),document.getElementById("root")),F()}},[[64,1,2]]]);
//# sourceMappingURL=main.6d64e989.chunk.js.map