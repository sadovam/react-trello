(this["webpackJsonpreact-trello"]=this["webpackJsonpreact-trello"]||[]).push([[0],{35:function(e,t,r){},54:function(e,t,r){},56:function(e,t,r){},65:function(e,t,r){},66:function(e,t,r){},67:function(e,t,r){},68:function(e,t,r){},69:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),o=r(24),s=r.n(o),i=(r(35),r(9)),c=r(2),l=r(15),d=r(25),b=r(26),u=r(30),h=r(29),j={baseURL:"https://trello-back.shpp.me/asadov/api/v1",boards:"board/"},m=r(27),f=r.n(m).a.create({baseURL:j.baseURL,headers:{"Content-Type":"application/json",Authorization:"Bearer 123"}});f.interceptors.response.use((function(e){return e.data}));var p=f,O=function(e){return p.post(j.boards,{title:e})},x=function(e){return p.delete(j.boards+e)},v=(r(54),r(1));function g(e){var t=e.title,r=e.onChangeFunc,n=e.onSubmitFunc,a=e.onCancelFunc;return Object(v.jsx)("div",{className:"add-form__modal",onClick:a,children:Object(v.jsxs)("form",{className:"add-form",onSubmit:n,onClick:function(e){return e.stopPropagation()},children:[Object(v.jsx)("label",{className:"add-form__title",htmlFor:"newTitle",children:"New board title"}),Object(v.jsx)("input",{className:"add-form__input",placeholder:"Type new board title here...",id:"newTitle",value:t,onChange:r}),Object(v.jsx)("button",{className:"add-form__btn",children:"Add board"})]})})}r(56);function C(e){var t=e.board,r=t.id,n=t.title,a=e.onClickFunc;return Object(v.jsxs)("div",{className:"board-tmb",children:[Object(v.jsx)(i.b,{to:"/board/".concat(r),className:"board-tmb__link",children:n}),Object(v.jsx)("button",{className:"board-tmb__btn",onClick:function(){return a(r)},children:"x"})]})}r(65);function w(e){var t=e.title,r=e.message;return Object(v.jsxs)("div",{className:"error__box",children:[Object(v.jsx)("h2",{className:"error__title",children:t}),Object(v.jsx)("p",{className:"error__message",children:r})]})}r(66);var _=function(e){Object(u.a)(r,e);var t=Object(h.a)(r);function r(){var e;Object(d.a)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={error:{title:"",message:""},boards:[],isBoardCreatorVisible:!1,newTitle:""},e.showBoardCreator=function(){e.setState({isBoardCreatorVisible:!0})},e.hideBoardCreator=function(){e.setState({isBoardCreatorVisible:!1})},e.changeTitleInput=function(t){e.setState({newTitle:t.target.value})},e.submitNewBoard=function(t){t.preventDefault(),O(e.state.newTitle).finally(e.setState({isBoardCreatorVisible:!1})).then((function(t){e.setState((function(r){return{boards:[].concat(Object(l.a)(r.boards),[{id:t.id,title:e.state.newTitle}]),newTitle:""}}))})).catch((function(t){e.showError("Error while create board",t.message)}))},e.delBoard=function(t){x(t).then((function(r){var n=e.state.boards.filter((function(e){return e.id!==t}));e.setState({boards:Object(l.a)(n)})})).catch((function(t){e.showError("Error while delete board",t.message)}))},e.showError=function(t,r){e.setState({error:{title:t,message:r}}),setTimeout((function(){return e.setState({error:{title:"",message:""}})}),3e3)},e}return Object(b.a)(r,[{key:"componentDidMount",value:function(){var e=this;p.get(j.boards).then((function(t){var r=t.boards;e.setState({boards:r})})).catch((function(t){e.showError("Error while get boards",t.message)}))}},{key:"makeBoards",value:function(){var e=this;return this.state.boards.map((function(t){return Object(v.jsx)(C,{board:t,onClickFunc:e.delBoard},t.id)}))}},{key:"render",value:function(){return Object(v.jsxs)("div",{className:"home-container",children:[Object(v.jsx)("h1",{className:"boards__title",children:"My boards"}),this.state.boards.length>0&&Object(v.jsxs)("div",{className:"boards",children:[this.makeBoards(),Object(v.jsx)("button",{className:"boards__btn",onClick:this.showBoardCreator,children:"Add board"})]}),this.state.error.title&&Object(v.jsx)(w,{title:this.state.error.title,message:this.state.error.message}),this.state.isBoardCreatorVisible&&Object(v.jsx)(g,{title:this.state.newTitle,onChangeFunc:this.changeTitleInput,onSubmitFunc:this.submitNewBoard,onCancelFunc:this.hideBoardCreator})]})}}]),r}(a.a.Component);r(67);function B(e){var t=e.match.params.id;return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(i.b,{to:"/",children:"Home"}),Object(v.jsxs)("h1",{children:["Board page number ",t," "]})]})}r(68);var N=function(){return Object(v.jsx)("div",{className:"App",children:Object(v.jsx)(i.a,{children:Object(v.jsxs)(c.c,{children:[Object(v.jsx)(c.a,{exact:!0,path:"/",component:_}),Object(v.jsx)(c.a,{path:"/board/:id",component:B}),Object(v.jsx)(c.a,{path:"/react-trello",component:_})]})})})},k=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,70)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,o=t.getLCP,s=t.getTTFB;r(e),n(e),a(e),o(e),s(e)}))};s.a.render(Object(v.jsx)(a.a.StrictMode,{children:Object(v.jsx)(N,{})}),document.getElementById("root")),k()}},[[69,1,2]]]);
//# sourceMappingURL=main.61529115.chunk.js.map